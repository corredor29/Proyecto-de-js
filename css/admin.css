/* ===================== Variables y base ===================== */
:root{
  --adm-bg:#0e0f12;
  --adm-panel:#16181d;
  --adm-line:#2a2e35;
  --adm-text:#eaeef5;
  --adm-soft:#a9b1bd;
  --adm-brand:#11ff66;      /* verde del admin */
  --adm-danger:#ef4444;
  --adm-warn:#f59e0b;
  --adm-accent:#2563eb;     /* azul de foco */
  --radius:14px;
}

.admin-body{ background:var(--adm-bg); color:var(--adm-text); }
.site-header--admin{ background:var(--adm-panel); border-bottom:1px solid var(--adm-line); }
.nav--admin a[data-active="true"]{ color:var(--adm-brand); }

/* ===================== Layout y cabecera ===================== */
.admin-wrap{ padding:1.2rem 0 2.4rem; }

.admin-head{
  display:flex; align-items:flex-end; justify-content:space-between; gap:1rem;
}
.admin-head h1{
  font-size:1.8rem; margin:.5rem 0 1rem; letter-spacing:.2px;
}

/* ===================== Pestañas ===================== */
.tabs{ display:flex; gap:.6rem; flex-wrap:wrap; }
.tab{
  background:var(--adm-panel); border:1px solid var(--adm-line); color:var(--adm-soft);
  padding:.55rem .9rem; border-radius:999px; cursor:pointer; user-select:none;
}
.tab.is-active{ color:#111; background:var(--adm-brand); border-color:transparent; }

/* ===================== Contenido por pestaña ===================== */
.admin-tab{ display:none; margin-top:1rem; }
.admin-tab.is-active{ display:block; }

/* ===================== Barra de filtros/acciones ===================== */
.bar{ display:flex; align-items:center; justify-content:space-between; gap:.8rem; margin:.8rem 0 1rem; }
.filters{ display:flex; gap:.6rem; align-items:center; flex-wrap:wrap; }

.adm-input,.adm-select{
  background:var(--adm-panel); border:1px solid var(--adm-line); color:var(--adm-text);
  padding:.6rem .8rem; border-radius:10px; min-width:240px;
}
.adm-input:focus,.adm-select:focus{
  outline:0; border-color:var(--adm-accent); box-shadow:0 0 0 3px rgba(37,99,235,.2);
}

.adm-btn{
  background:var(--adm-panel); border:1px solid var(--adm-line); color:var(--adm-text);
  padding:.6rem .9rem; border-radius:10px; cursor:pointer;
}
.adm-btn:hover{ filter:brightness(1.06); }
.adm-btn--primary{
  background:var(--adm-brand); color:#111; border-color:transparent; font-weight:700;
}
.adm-btn--danger{
  background:#1f0d0d; color:#fca5a5; border-color:#7f1d1d;
}

/* ===================== Tabla (base) ===================== */
.adm-table-wrap{
  background:var(--adm-panel); border:1px solid var(--adm-line);
  border-radius:var(--radius); overflow:auto;
}
.adm-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  table-layout:fixed;        /* base fija para evitar “bailes” */
}
.adm-table thead th{
  text-align:left; font-weight:700; color:var(--adm-soft);
  padding:.8rem .9rem; border-bottom:1px solid var(--adm-line);
  position:sticky; top:0; background:var(--adm-panel); z-index:1;
}
.adm-table tbody td{
  padding:.7rem .9rem; border-bottom:1px solid var(--adm-line); vertical-align:middle;
}
.adm-table tbody tr:hover{ background:rgba(255,255,255,.03); }

/* Evitar desbordes en TODAS las tablas (genérico) */
.adm-table th, .adm-table td {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ===== Anchos específicos SOLO para la tabla de Quejas (8 columnas) ===== */
#quejasTable { table-layout: fixed; }

#quejasTable th:nth-child(1),
#quejasTable td:nth-child(1) { width: 84px; }   /* ID */

#quejasTable th:nth-child(2),
#quejasTable td:nth-child(2) { width: 120px; }  /* Fecha */

#quejasTable th:nth-child(3),
#quejasTable td:nth-child(3) { width: 100px; }  /* Tipo */

#quejasTable th:nth-child(4),
#quejasTable td:nth-child(4) { width: 220px; }  /* Asunto */

#quejasTable th:nth-child(5),
#quejasTable td:nth-child(5) { width: 160px; }  /* Usuario */

#quejasTable th:nth-child(6),
#quejasTable td:nth-child(6) { width: 140px; }  /* Estado */

#quejasTable th:nth-child(7),
#quejasTable td:nth-child(7) { width: 220px; }  /* Respuesta */

#quejasTable th:nth-child(8),
#quejasTable td:nth-child(8) { width: 260px; }  /* Acciones */

/* Botones por fila (cuando existan) */
.row-actions{ display:flex; gap:.4rem; }
.icon-btn{
  border:1px solid var(--adm-line); background:var(--adm-panel); color:var(--adm-text);
  padding:.4rem .6rem; border-radius:8px; cursor:pointer;
}
.icon-btn:hover{ filter:brightness(1.06); }
.icon-btn--danger{ border-color:#7f1d1d; background:#1f0d0d; color:#fca5a5; }
.td-actions .adm-btn { margin-right:.4rem; }

/* ===================== Mensajes vacíos ===================== */
.adm-empty{
  padding:1rem; color:var(--adm-soft); text-align:center; font-style:italic;
}

/* ===================== Overlay / Modal (unificado) ===================== */
.adm-overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.45);
  backdrop-filter:saturate(1.2) blur(2px);
  display:none; z-index:9998; overflow:auto;
}
.adm-overlay.is-open{ display:block; }

.adm-modal{
  position:relative; width:min(920px,96vw);
  margin:6vh auto; background:var(--adm-panel);
  border:1px solid var(--adm-line); border-radius:16px;
  box-shadow:0 30px 80px rgba(0,0,0,.5);
  color:var(--adm-text);
  max-height:88vh; display:flex; flex-direction:column;
}
.adm-modal__head{
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 18px; border-bottom:1px solid var(--adm-line);
}
.adm-close{
  background:transparent; border:none; color:var(--adm-soft); font-size:22px; cursor:pointer;
}
.adm-close:hover{ color:#fff; }

.adm-form{
  flex:1 1 auto; overflow:auto; min-height:0;
  padding:16px 18px; padding-right:10px; overscroll-behavior:contain;
}
.adm-modal__foot{
  position:sticky; bottom:0; background:var(--adm-panel);
  padding:12px 18px; border-top:1px solid var(--adm-line);
  display:flex; justify-content:flex-end; gap:10px; margin-top:6px;
}

/* Campos del modal */
.adm-form label{
  display:flex; flex-direction:column; gap:6px; margin-bottom:12px;
}
.adm-form input[type="text"],
.adm-form input[type="number"],
.adm-form input[type="url"],
.adm-form select,
.adm-form textarea{
  background:#0f1115; border:1px solid var(--adm-line); border-radius:10px;
  color:var(--adm-text); padding:10px;
}
.adm-form input:focus,
.adm-form select:focus,
.adm-form textarea:focus{
  outline:0; border-color:var(--adm-accent); box-shadow:0 0 0 3px rgba(37,99,235,.2);
}

.adm-grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.adm-grid-span{ grid-column:1 / -1; }
@media (max-width: 760px){
  .adm-grid-2{ grid-template-columns:1fr; }
}

/* Grupo de características (habitaciones) */
.adm-feats{
  border:1px dashed var(--adm-line); border-radius:12px;
  padding:.7rem; display:flex; flex-wrap:wrap; gap:.8rem; margin:8px 0;
}

/* ===================== Estado RESUELTO (Quejas) ===================== */
/* Antes estaba en .row-resuelto::before (sobre el <tr>) y corría las columnas.
   Ahora pintamos la tira verde en la PRIMERA CELDA para no desalinear. */
.row-resuelto td:first-child{ position: relative; }
.row-resuelto td:first-child::before{
  content:"";
  position:absolute;
  left:0;
  top:6px;
  bottom:6px;
  width:4px;
  border-radius:4px;
  background:linear-gradient(180deg,#22c55e,#86efac);
  animation:qGlow 1.6s ease-in-out infinite;
}
@keyframes qGlow { 0%,100%{opacity:.55} 50%{opacity:1} }

.badge-resuelto{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.15rem .55rem; border-radius:999px;
  background:#052e1a; color:#34d399; border:1px solid #14532d;
  font-size:.75rem; line-height:1; letter-spacing:.2px;
  animation:qPulse 1.8s infinite;
}
.badge-resuelto .chk{
  width:14px; height:14px; border-radius:50%;
  background:#34d399; color:#052e1a; display:grid; place-items:center;
  font-weight:900; font-size:11px;
}
@keyframes qPulse{
  0%{ box-shadow:0 0 0 0 rgba(34,197,94,.45) }
  70%{ box-shadow:0 0 0 10px rgba(34,197,94,0) }
  100%{ box-shadow:0 0 0 0 rgba(34,197,94,0) }
}
.row-resuelto-pop { animation:qPop .45s ease; }
@keyframes qPop{ 0%{transform:scale(.98)} 60%{transform:scale(1.02)} 100%{transform:scale(1)} }

.confetti{ position:fixed; inset:0; pointer-events:none; z-index:9999; }
.confetti i{
  position:absolute; width:8px; height:14px; opacity:.95; border-radius:2px;
  animation:qFall 900ms linear forwards;
}
@keyframes qFall{ to { transform: translateY(120vh) rotate(720deg); opacity:0; } }
